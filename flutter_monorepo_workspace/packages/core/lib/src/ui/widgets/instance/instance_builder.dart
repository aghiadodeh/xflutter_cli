// Generated By XFlutter Cli.
//
// more info: https://xflutter-cli.com
import 'package:flutter/material.dart';
import 'package:get_it/get_it.dart';

class InstanceBuilder<T extends Object> extends StatefulWidget {
  /// callback which wrap your widgets with the same global instance you registered with [GetIt].
  final Widget Function(T viewModel) builder;

  /// pass [instanceName] if you want to register more than one instance in same lifeCycle
  final String? instanceName;

  /// wrap child widgets with the same global instance which registered with [GetIt].
  const InstanceBuilder({this.instanceName, required this.builder, super.key});

  @override
  State<InstanceBuilder> createState() => _InstanceBuilderState<T>();
}

class _InstanceBuilderState<T extends Object> extends State<InstanceBuilder<T>> {
  @override
  Widget build(BuildContext context) {
    return widget.builder.call(GetIt.instance.get<T>(instanceName: widget.instanceName));
  }
}
